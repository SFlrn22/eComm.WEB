<div class="page-container">
    <div class="product-container">
        <div class="product-picture">
            <img src="{{productInfo?.imageUrlL}}" alt="image" class="product-img">
        </div>
        <div class="product-details">
            <h2 class="title">{{productInfo?.title}}</h2>
            <div class="product-ratings">
                <span *ngFor="let fill of fillStarArray; let i = index"
                    [ngClass]="{'bi bi-star-fill': fill, 'bi bi-star': !fill}"></span>
                <span class="rating-value">{{[productInfo?.averageRating]}}</span>
            </div>
            <div class="product-detail">
                <h2 class="info">About this book</h2>
                <p class="isbn">ISBN: {{productInfo?.isbn}}</p>
                <p class="author">Author: {{productInfo?.author}}</p>
                <p class="publisher">Publisher: {{productInfo?.publisher}}</p>
                <p class="publicationYear">Year of publication: {{productInfo?.publicationYear}}</p>
                <p class="category">Category: {{productInfo?.category}}</p>
            </div>
            <p class="price">Price: ${{productInfo?.price ?? ""}}</p>
            <div class="purchase">
                <button type="button" (click)="addToCart()">Add to Cart</button>
                <qrcode [qrdata]="qrCodeValue" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>
            </div>
        </div>
    </div>
    <div class="description-wrapper">
        <h1>Description</h1>
        <div class="description">{{productInfo?.description}}</div>
    </div>
    <div class="recommendations-container">
        <h2 class="recom-title" *ngIf="itemBasedRecommendations.length > 0">User based recommendations</h2>
        <app-item-carousel [products]="itemBasedRecommendations"
            *ngIf="itemBasedRecommendations.length > 0"></app-item-carousel>
        <h2 class="recom-title" *ngIf="contentBasedRecommendations.length > 0">Content based recommendations</h2>
        <app-item-carousel [products]="contentBasedRecommendations"
            *ngIf="contentBasedRecommendations.length > 0"></app-item-carousel>
    </div>
    <div class="peek-div">
        <h1>Another interpretation of the book cover</h1>
        <button class="btn btn-primary" (click)="textToImg()">Peek</button>
        <img [src]="'data:image/png;base64,'+base64Img" *ngIf="base64Img != ''">
    </div>
</div>